# 编程思想和原则

## 概述
- 编程思想，是对于设计模式更高级的一种抽象，编程思想|设计原则->设计模式

## 评价一个系统
- 指标
  - 可维护性
    - 可读
    - 可迁移
    - 可扩展
    - 可变更
    - 可重用
    - 独立性
  - 代码结构
    - 清晰,合理,简洁
    - 高内聚低耦合
    - 无冗余
    - 逻辑简单,低复杂度
    - 模块抽象程度适度
  - 可用性
    - 功能
    - 性能
      - 安全性
      - 稳定性
      - 速度

## 编程思想
- 控制复杂度
- 抽象
- 复用

### 面向对象原则
- 面向对象
  - 一切皆对象原则
  - 封装
  - 多态
  - 继承 - 重用+扩展
  - 抽象
- 组合
  - 将几个模块组合成更复杂的模块
  - 由一个主模块负责调度,来实现跨模块的交互

## 设计原则
### 开闭原则
- 模块要对扩展开放,对修改关闭
- 以通用的方式定义模块,要便于扩展,具有向后兼容性
- 现有的类不会被修改因此不会变得原来越差
- 对修改关闭,指的是对已有模块的功能进行修改,而不是性能上的提升
### 单一职责原则
- 在一个抽象程度上,一个模块只做一件事
- 以功能作为拆分的理由
- 这样可以缩小任何改动带来的影响
- 缺点:职责过于单一的接口有时也会导致接口的冗余,建立多个不必要的接口
### 依赖倒置原则
- 上层模块不应依赖于下层具体的模块,而依赖于抽象的功能,否则最终上层模块可能会受下层模块的牵制(控制翻转)
- 避免下层变动对上层产生剧烈影响.中间增加抽象层.细节依赖于抽象,而不是抽象依赖于细节
- 可以减小模块耦合
### 接口隔离原则
- 不依赖不需要的接口
- 依赖应该建立在最小的接口上
- 接口不提供不需要的功能
- 接口不该索要用不到的信息
### 最小知识原则
- 迪米特法则
- 让两个需要沟通的对象相互之间知道的越少越好
- 相互解耦
- 减少对象之间的交互
- 当前的变量、模块,只与和它紧密相关的上层和下层模块进行交互,而不存在跨层级的交互
- 缺点:过于简化的接口有时也会导致接口的冗余,建立多个不必要的接口
### 里式替换原则
- 任何使用父类的地方,都可以使用子类替换
- 子类完全继承父类的全部属性和方法
- 子类不去限制父类的能力
### 其它原则
- 好莱坞原则 - 把调用的主动权完全交给主程序(不要给我打电话,我们会打给你的)
- 加入中间层 - 可以起到隔离、解耦、适配、调整接口、调整交互逻辑等作用
